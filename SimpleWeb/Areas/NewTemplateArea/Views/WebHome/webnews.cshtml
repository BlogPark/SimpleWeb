@model SimpleWeb.Areas.NewTemplateArea.Models.MemberNewsViewModel
@{
    Layout = "~/Views/_NewTempleteLayout.cshtml";
}
<div id="example_modal2" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel"></h3>
    </div>
    <div class="modal-body">
        <p id="newscontent"></p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" data-dismiss="modal" aria-hidden="true">确 定</button>
    </div>
</div>
<div class="row-fluid"></div>
<div class="row-fluid">
    <div class="widget span12">
        <div class="widget-header">
            <i class="icon-tasks"></i>
            <h5>网站新闻公告</h5>
            <div class="widget-buttons">
                <a href="#" data-title="Collapse" data-collapsed="false" class="collapse"><i class="icon-chevron-up"></i></a>
            </div>
        </div>
        @if (Model.news == null || Model.news.Count == 0)
        {<div class="widget-header-under">当前没有系统公告</div>}
        <div class="widget-body clearfix" >
            <div class="widget-tasks-assigned">
                <ul>
                    @if (Model.news != null && Model.news.Any())
                    {
                        foreach (var item in Model.news)
                        {
                        <li class="priority-high-left">
                            <a href="#" data-toggle="modal" data-target="#example_modal2" onclick="showmessage()">
                                <div class="content">
                                    <h4 id="newtitle">@item.STitle</h4>
                                    <span>@(item.SContent.Length > 50 ? item.SContent.Substring(0, 50).MyReplace(@"<[\s\S]*?>","") : item.SContent.MyReplace(@"<[\s\S]*?>",""))</span>
                                </div>
                                <input type="hidden" id="newcontent" value="@item.SContent">
                                <ul class="rightboxes">
                                    <li>@item.SAddTime.ToString("yyyy-MM-dd HH:mm:ss")<span>发布时间</span></li>
                                    <li>平台管理员<span>发布人</span></li>
                                </ul>
                            </a>
                            <div class="progress">
                                <div style="width: 100%;" class="bar"></div>
                            </div>
                        </li>    
                        }
                    }
                </ul>
            </div>
        </div>
    </div>
</div>
